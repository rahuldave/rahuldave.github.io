// Component styles for Modern ColorBrewer Blues theme
// These rules apply to both light and dark modes

// ============================================
// TYPOGRAPHY
// ============================================

h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 {
  font-family: var(--font-heading);
  font-weight: 600;
  line-height: 1.3;
  letter-spacing: -0.01em;
}

h1, .h1 { font-weight: 700; }
h4, .h4 { font-weight: 500; }

p {
  line-height: 1.75;
}

a {
  transition: all var(--transition-fast);
}

// ============================================
// NAVBAR ENHANCEMENTS
// ============================================

.navbar {
  transition: all var(--transition-base);
}

.navbar-brand {
  font-family: var(--font-heading);
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 0.625rem;
}

.nav-link {
  font-family: var(--font-heading);
  font-weight: 500;
  border-radius: 8px;
  transition: all var(--transition-fast);
}

// ============================================
// LISTING CARDS (Quarto grid listings)
// ============================================

.quarto-grid-item {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 20px;
  overflow: hidden;
  transition: all var(--transition-base);
  position: relative;
  box-shadow: var(--shadow-sm);

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--cb-blue-400), var(--cb-blue-600));
    opacity: 0;
    transition: opacity var(--transition-base);
  }

  &:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl), var(--shadow-glow);
    border-color: var(--color-primary-muted);

    &::before {
      opacity: 1;
    }
  }

  .card-body {
    padding: 1.75rem;
  }

  .card-title {
    font-family: var(--font-heading);
    font-size: 1.25rem;
    font-weight: 600;
    line-height: 1.4;
    margin-bottom: 0.75rem;
    transition: color var(--transition-fast);
  }

  &:hover .card-title {
    color: var(--color-primary);
  }

  .card-text {
    color: var(--color-text-secondary);
    font-size: 0.95rem;
    line-height: 1.7;
  }

  .listing-date {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--color-text-muted);
  }
}

// Category badges
.quarto-category,
.listing-category {
  font-family: var(--font-mono);
  font-size: 0.7rem;
  padding: 0.3rem 0.625rem;
  background: var(--cb-blue-600);
  color: white;
  border-radius: 100px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  transition: all var(--transition-fast);

  &:hover {
    background: var(--cb-blue-700);
  }
}

[data-bs-theme="dark"] .quarto-category,
[data-bs-theme="dark"] .listing-category {
  background: var(--cb-blue-400);
  color: var(--cb-blue-800);

  &:hover {
    background: var(--cb-blue-300);
  }
}

// ============================================
// CODE BLOCKS
// ============================================

pre {
  border-radius: 12px;
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-sm);
}

pre > code {
  font-family: var(--font-mono);
  font-size: 0.85rem;
  line-height: 1.7;
}

:not(pre) > code {
  background: var(--color-code-bg);
  color: var(--color-code-text);
  padding: 0.15rem 0.4rem;
  border-radius: 4px;
  font-size: 0.85em;
  font-family: var(--font-mono);
}

// Jupyter/Quarto code cell styling
.cell {
  margin-bottom: 1.5rem;
}

.cell-output {
  border-radius: 0 0 12px 12px;
  border: 1px solid var(--color-border);
  border-top: none;
  background: var(--color-surface-sunken);
}

// Source code header styling
div.sourceCode {
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid var(--color-border);
  background: var(--color-code-bg);
}

// ============================================
// TOC SIDEBAR
// ============================================

#TOC {
  font-family: var(--font-body);

  .active {
    color: var(--color-primary);
    font-weight: 500;
  }

  a {
    color: var(--color-text-muted);
    transition: color var(--transition-fast);

    &:hover {
      color: var(--color-primary);
    }
  }
}

// ============================================
// MARGIN CONTENT (references, footnotes)
// ============================================

.column-margin {
  font-size: 0.85rem;
  color: var(--color-text-muted);
}

.margin-caption {
  font-family: var(--font-mono);
  font-size: 0.75rem;
}

// ============================================
// TABLES
// ============================================

.table {
  --bs-table-bg: transparent;
  border-color: var(--color-border);

  thead {
    background: var(--color-surface-sunken);
    font-family: var(--font-heading);
    font-weight: 600;
  }

  th, td {
    padding: 0.875rem 1rem;
    border-color: var(--color-border);
  }
}

// ============================================
// BUTTONS
// ============================================

.btn-primary {
  background: linear-gradient(145deg, var(--cb-blue-500), var(--cb-blue-600));
  border: none;
  box-shadow: var(--shadow-sm);
  transition: all var(--transition-fast);

  &:hover {
    background: linear-gradient(145deg, var(--cb-blue-600), var(--cb-blue-700));
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }
}

// ============================================
// FOOTER
// ============================================

.nav-footer {
  background: var(--color-surface);
  border-top: 1px solid var(--color-border);
  padding: 2rem 0;
}

// ============================================
// SCROLL BEHAVIOR
// ============================================

html {
  scroll-behavior: smooth;
}

// ============================================
// SELECTION
// ============================================

::selection {
  background: var(--cb-blue-200);
  color: var(--cb-blue-800);
}

[data-bs-theme="dark"] ::selection {
  background: var(--cb-blue-600);
  color: var(--cb-blue-100);
}

// ============================================
// RESPONSIVE
// ============================================

@media (max-width: 768px) {
  .quarto-grid-item {
    .card-body {
      padding: 1.25rem;
    }

    &:hover {
      transform: translateY(-4px);
    }
  }
}
