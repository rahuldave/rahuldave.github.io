<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Probability – rahuldave</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-c67a7d068a8370113d9027fc4e8bf30e.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-e0d64750a3675fa668af59a9862b8111.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-c67a7d068a8370113d9027fc4e8bf30e.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-b3060d8ea35c318c34eef87f2d5e64c2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-a009389674a9596cea61ac77c12264b2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-b3060d8ea35c318c34eef87f2d5e64c2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- Google Fonts: Bitter (headings) + Source Serif 4 (body) + IBM Plex Mono (code) -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Bitter:wght@400;500;600;700&amp;family=Source+Serif+4:opsz,wght@8..60,400;8..60,500;8..60,600&amp;family=IBM+Plex+Mono:wght@400;500;600&amp;display=swap" rel="stylesheet">

<!-- Bootstrap Icons for brand mark and UI elements -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">rahuldave</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../posts.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../til.html"> 
<span class="menu-text">TIL</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../collections.html"> 
<span class="menu-text">Collections</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#contents" id="toc-contents" class="nav-link active" data-scroll-target="#contents">Contents</a></li>
  <li><a href="#what-is-probability" id="toc-what-is-probability" class="nav-link" data-scroll-target="#what-is-probability">What is probability?</a>
  <ul class="collapse">
  <li><a href="#probability-from-symmetry" id="toc-probability-from-symmetry" class="nav-link" data-scroll-target="#probability-from-symmetry">Probability from Symmetry</a></li>
  <li><a href="#probability-from-a-model" id="toc-probability-from-a-model" class="nav-link" data-scroll-target="#probability-from-a-model">Probability from a model</a></li>
  <li><a href="#probability-from-frequency" id="toc-probability-from-frequency" class="nav-link" data-scroll-target="#probability-from-frequency">Probability from frequency</a></li>
  </ul></li>
  <li><a href="#the-rules-of-probability" id="toc-the-rules-of-probability" class="nav-link" data-scroll-target="#the-rules-of-probability">The rules of probability</a>
  <ul class="collapse">
  <li><a href="#the-multiplyandintersection-formula-for-independent-events" id="toc-the-multiplyandintersection-formula-for-independent-events" class="nav-link" data-scroll-target="#the-multiplyandintersection-formula-for-independent-events">The Multiply/And/Intersection Formula for independent events</a></li>
  <li><a href="#the-plusorunion-formula" id="toc-the-plusorunion-formula" class="nav-link" data-scroll-target="#the-plusorunion-formula">The Plus/Or/Union Formula</a></li>
  <li><a href="#formally-summarizing-the-rules" id="toc-formally-summarizing-the-rules" class="nav-link" data-scroll-target="#formally-summarizing-the-rules">Formally summarizing the rules</a></li>
  <li><a href="#the-very-fundamental-rules-of-probability" id="toc-the-very-fundamental-rules-of-probability" class="nav-link" data-scroll-target="#the-very-fundamental-rules-of-probability">The very fundamental rules of probability:</a></li>
  </ul></li>
  <li><a href="#random-variables" id="toc-random-variables" class="nav-link" data-scroll-target="#random-variables">Random Variables</a></li>
  <li><a href="#marginals-and-conditionals-and-bayes-theorem" id="toc-marginals-and-conditionals-and-bayes-theorem" class="nav-link" data-scroll-target="#marginals-and-conditionals-and-bayes-theorem">Marginals and conditionals, and Bayes Theorem</a>
  <ul class="collapse">
  <li><a href="#bayes-rule" id="toc-bayes-rule" class="nav-link" data-scroll-target="#bayes-rule">Bayes rule</a></li>
  <li><a href="#independence" id="toc-independence" class="nav-link" data-scroll-target="#independence">Independence</a></li>
  <li><a href="#application-of-bayes-theorem" id="toc-application-of-bayes-theorem" class="nav-link" data-scroll-target="#application-of-bayes-theorem">Application of Bayes Theorem</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7666405354675368" crossorigin="anonymous"></script>
<ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-hw+6+z-2d+n" data-ad-client="ca-pub-7666405354675368" data-ad-slot="5640316511"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- Theme toggle persistence script -->
<script>
(function() {
  // Check for saved theme preference, otherwise use system preference
  const savedTheme = localStorage.getItem('quarto-color-scheme');
  if (savedTheme) {
    document.documentElement.setAttribute('data-bs-theme', savedTheme);
  }

  // Listen for theme changes (Quarto's built-in toggle) and persist
  const observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.attributeName === 'data-bs-theme') {
        const currentTheme = document.documentElement.getAttribute('data-bs-theme');
        if (currentTheme) {
          localStorage.setItem('quarto-color-scheme', currentTheme);
        }
      }
    });
  });

  // Start observing once DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
      observer.observe(document.documentElement, { attributes: true });
    });
  } else {
    observer.observe(document.documentElement, { attributes: true });
  }
})();
</script>

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Probability</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="keywords-probability-probability-rules-marginal-conditional-independence-bayes-theorem-random-variables" class="level5">
<h5 class="anchored" data-anchor-id="keywords-probability-probability-rules-marginal-conditional-independence-bayes-theorem-random-variables">Keywords: probability, probability rules, marginal, conditional, independence, bayes theorem, random variables</h5>
</section>
<section id="contents" class="level2">
<h2 class="anchored" data-anchor-id="contents">Contents</h2>
<p>{:.no_toc} * {: toc}</p>
<div id="cell-3" class="cell" data-hide="true" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy <span class="im">as</span> sp</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib <span class="im">as</span> mpl</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.cm <span class="im">as</span> cm</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.width'</span>, <span class="dv">500</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_columns'</span>, <span class="dv">100</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.notebook_repr_html'</span>, <span class="va">False</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">"white"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>//anaconda/envs/py35/lib/python3.5/site-packages/matplotlib/__init__.py:872: UserWarning: axes.color_cycle is deprecated and replaced with axes.prop_cycle; please use the latter.
  warnings.warn(self.msg_depr % (key, alt_key))</code></pre>
</div>
</div>
</section>
<section id="what-is-probability" class="level2">
<h2 class="anchored" data-anchor-id="what-is-probability">What is probability?</h2>
<p>Suppose you were to flip a coin. Then you expect not to be able to say whether the next toss would yield a heads or a tails. You might tell a friend that the odds of getting a heads is equal to to the odds of getting a tails, and that both are <span class="math inline">\(1/2\)</span>.</p>
<p>This intuitive notion of odds is a <strong>probability</strong>. It comes about because of our physical <strong>model</strong> of the world: say that because of our faith in the U.S. Mint, we might be willing to, without having seen any tosses, say that the coin is fair. In other words, there are two choices, both of which are equally likely.</p>
<section id="probability-from-symmetry" class="level3">
<h3 class="anchored" data-anchor-id="probability-from-symmetry">Probability from Symmetry</h3>
<p>Consider another example. If we were tossing a ‘fair’ six-sided dice, we may thus equivalently say that the odds of the dice falling on any one of its sides is <span class="math inline">\(1/6\)</span>. Indeed if there are <span class="math inline">\(C\)</span> different equally likely possibilities, we’d expect that the probability of any one particular outcome would be <span class="math inline">\(1/C\)</span>.</p>
<p>The examples of the coin as well as the dice illustrate the notion of probability springing from <strong>symmetry</strong>. Here we think of probability of of the number 4 on the dice as the ratio:</p>
<p><span class="math display">\[\frac{Number\: of\: cases\: for\: number\: 4}{number\: of\: possibilities} = \frac{1}{6},\]</span> assuming equally likely possibilities.</p>
<p>In other words, the symmetry refers to the notion that when there are multiple ways for an event to happen, and that then we have an intuitive <strong>model</strong> of fairness between these ways that tells us that none of these are any more likely than the other.</p>
</section>
<section id="probability-from-a-model" class="level3">
<h3 class="anchored" data-anchor-id="probability-from-a-model">Probability from a model</h3>
<p>Thus one might think of symmetry as providing a model. There are also other kinds of models.</p>
<p>Think of an event like an election, say a presidential election. You cant exactly run multiple trials of the election: its a one-off event. But you still want to talk about the likelyhood of a candidate winning. However people do make <strong>models</strong> of elections, based on inputs such as race, age, income, sampling polls, etc. They assign likeyhoods of candidates winning and run large numbers of <strong>simulations</strong> of the election, making predictions based on that. Forecasters like Nate Silver, Sam Wang, And Drew Linzer, made incredibly successfull predictions of the 2012 elections.</p>
<p>Or consider what a weather forecaster means when he or she says there is a 90% chance of rain today. Presumably, this conclusion has been made from many computer <strong>simulations</strong> which take in the weather conditions known in the past, and propagated using physics to the current day. The simulations give different results based on the uncertainty in the measurement of past weather, and the inability of the physics to capture the phenomenon exactly (all physics is some approximation to the natural world). But 90% of these simulations show rain.</p>
<p>In all of these cases, there is either a model (a fair coin, an election forecasting model, a weather differential equation), or an experiment ( a large number of coin tosses) that is used to <strong>estimate</strong> a probability, or the odds, of an <strong>event</strong> <span class="math inline">\(E\)</span> occuring.</p>
<section id="combining-models-and-observations" class="level4">
<h4 class="anchored" data-anchor-id="combining-models-and-observations">Combining models and observations</h4>
<p>In all of these cases, probability is something we speak of, for observations we are to make in the future. And it is something we assign, based on the <em>model</em> or belief of the world we have, or on the basis of past observations that we have made, or that we might even imagine that we would make.</p>
<p>Consider some additional examples. You might ask the probability of the Yankees winning the next baseball game against the Red Sox. Or you might ask for the probability of a launch failure for the next missile protecting Tel-Aviv. These are not academic questions: lots of betting money and lives depend upon them respectively. In both cases there is some past data, and some other inputs such as say, weather conditions, which might be used to construct a model, which is then used to predict the fate of the next game or launch.</p>
<p>They key takeaway is this: for some reasons, and possibly using some data, we have constructed a model of the universe. In other words, we have combined <strong>prior</strong> beliefs and past frequencies respectively. This notion of such combination is yet another notion of probability, called the <strong>Bayesian</strong> notion of probability. And we can now use this model to make predictions, such us the future odds of a particular event happening.</p>
</section>
</section>
<section id="probability-from-frequency" class="level3">
<h3 class="anchored" data-anchor-id="probability-from-frequency">Probability from frequency</h3>
<p>Consider doing a large number of coin flips. You would do, or imagine doing, a large number of flips or <strong>trials</strong> <span class="math inline">\(N\)</span>, and finding the number of times you got heads <span class="math inline">\(N_H\)</span>. Then the probability of getting heads would be <span class="math display">\[\frac{N_H}{N}.\]</span></p>
<p>This is the notion of probability as a <strong>relative frequency</strong>: if there are multiple ways an <strong>event</strong> like the tossing of a coin can happen, lets look at multiple trials of the event and see the fraction of times one or other of these ways happened.</p>
<p>This jibes with our general notion of probability from symmetry: indeed you can think of it as an experimental verificaltion of a symmetry based model.</p>
<section id="simulating-the-results-of-the-model" class="level4">
<h4 class="anchored" data-anchor-id="simulating-the-results-of-the-model">Simulating the results of the model</h4>
<p>We dont have a coin right now. So let us <strong>simulate</strong> this process on a computer. To do this we will use a form of the <strong>random number generator</strong> built into <code>numpy</code>. In particular, we will use the function <code>np.random.choice</code>, which will with equal probability for all items pick an item from a list (thus if the list is of size 6, it will pick one of the six list items each time, with a probability 1/6).</p>
<div id="cell-7" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> throw_a_coin(N):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.random.choice([<span class="st">'H'</span>,<span class="st">'T'</span>], size<span class="op">=</span>N)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>throws<span class="op">=</span>throw_a_coin(<span class="dv">40</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Throws:"</span>,<span class="st">" "</span>.join(throws))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Number of Heads:"</span>, np.<span class="bu">sum</span>(throws<span class="op">==</span><span class="st">'H'</span>))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"p1 = Number of Heads/Total Throws:"</span>, np.<span class="bu">sum</span>(throws<span class="op">==</span><span class="st">'H'</span>)<span class="op">/</span><span class="fl">40.</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Throws: T H T H T H H H H H T H H H T H T H T H T H H H T H H H H T T T T H T T H T T T
Number of Heads: 22
p1 = Number of Heads/Total Throws: 0.55</code></pre>
</div>
</div>
<p>Notice that you do not necessarily get 20 heads.</p>
<p>Now say that we run the entire process again, a second <strong>replication</strong> to obtain a second sample. Then we ask the same question: what is the fraction of heads we get this time? Lets call the odds of heads in sample 2, then, <span class="math inline">\(p_2\)</span>:</p>
<div id="cell-9" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> make_throws(N):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    throws<span class="op">=</span>throw_a_coin(N)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> N <span class="op">&lt;=</span> <span class="dv">100</span>:</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Throws:"</span>,<span class="st">" "</span>.join(throws))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"First 100 Throws:"</span>,<span class="st">" "</span>.join(throws[:<span class="dv">100</span>]))</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Number of Heads:"</span>, np.<span class="bu">sum</span>(throws<span class="op">==</span><span class="st">'H'</span>))</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"p1 = Number of Heads/Total Throws:"</span>, np.<span class="bu">sum</span>(throws<span class="op">==</span><span class="st">'H'</span>)<span class="op">/</span>N)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>make_throws(<span class="dv">40</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Throws: H T H T H H H H T H H H T T T H T H H H H T H H T T H H T H T H T H H H T T H H
Number of Heads: 25
p1 = Number of Heads/Total Throws: 0.625</code></pre>
</div>
</div>
<p>Let’s do many more trials</p>
<div id="cell-11" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>make_throws(<span class="dv">1000</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>First 100 Throws: H H H T H H T T T H T H H H H T T T H H H H H H T H T T T H T H T T T H H T H T H H H H T H T H T T H H T T T T T T H T H H T H T H T H T H T T H T H H H T H T T T H H T H T H T H T H H H H T T T T H
Number of Heads: 521
p1 = Number of Heads/Total Throws: 0.521</code></pre>
</div>
</div>
<p>And even more:</p>
<div id="cell-13" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>make_throws(<span class="dv">10000</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>First 100 Throws: H T T T H T T T H T T T T H T T H T H H H H T H T H T T H T H T H H H H T T H H H H T H H H H T H T T T H T H H T T T H T H T H T T T H T T T T H T H H H H H T T H H H T T H H H H H H T H T H T T T H
Number of Heads: 5047
p1 = Number of Heads/Total Throws: 0.5047</code></pre>
</div>
</div>
<p>As you can see, the larger number of trials we do, the closer we seem to get to half the tosses showing up heads. Lets see this more systematically:</p>
<div id="cell-15" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>trials<span class="op">=</span>np.arange(<span class="dv">0</span>, <span class="dv">40000</span>, <span class="dv">1000</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>plt.plot(trials, [np.<span class="bu">sum</span>(throw_a_coin(j)<span class="op">==</span><span class="st">'H'</span>)<span class="op">/</span>np.<span class="bu">float</span>(j) <span class="cf">for</span> j <span class="kw">in</span> trials], <span class="st">'o-'</span>, alpha<span class="op">=</span><span class="fl">0.2</span>)<span class="op">;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>plt.axhline(<span class="fl">0.5</span>, <span class="dv">0</span>, <span class="dv">1</span>, color<span class="op">=</span><span class="st">'r'</span>)<span class="op">;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'number of trials'</span>)<span class="op">;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'probability of heads from simulation'</span>)<span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'frequentist probability of heads'</span>)<span class="op">;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="probability_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Thus, the true odds <strong>fluctuate</strong> about their long-run value of 0.5, in accordance with the model of a fair coin (which we encoded in our simulation by having <code>np.random.choice</code> choose between two possibilities with equal probability), with the fluctuations becoming much smaller (we shall talk a lot more about this later in the book). These <strong>fluctations</strong> are what give rise to probability distributions.</p>
<p>Each finite length run is called a <strong>sample</strong>, which has been obtained from the <strong>generative</strong> model of our fair coin. Its called generative as we can use the model to generate, using simulation, a set of samples we can play with to understand a model. Such <strong>simulation from a model</strong> is a key technique which we will come back to again and again in learning from data.</p>
</section>
</section>
</section>
<section id="the-rules-of-probability" class="level2">
<h2 class="anchored" data-anchor-id="the-rules-of-probability">The rules of probability</h2>
<p>We have seen multiple notions of probability so far. One might assign probabilities based on symmetry, for eg, 2 sides of a fair coin, or six sides of a fair dice. One might assign probabilities based on doing an experiment. such as the long run number of heads in many coin flips. One might assign probabilities based on beliefs; and one might even assign probabilities to events that have no chance of repeating, such as the 2012 presidential election, or the probability of rain between 2pm and 6pm today.</p>
<p>Thus, the very definition of probability seems to be wishy-washy and subjective. Thus you might wonder how you might work with such probabilities. For this, we turn to the rules of probability.</p>
<p>The rules dont care where our probabilities come from, as to how we estimated them, as long as they behave in intuitively sensible ways.</p>
<p>Consider an example:</p>
<p>E is the event of getting a heads in a first coin toss, and F is the same for a second coin toss. Here <span class="math inline">\(\Omega\)</span>, the set of all possibilities that can happen when you toss two coins is <span class="math inline">\(\{HH, HT, TH, TT\}\)</span>. Since E only specifies that the first toss is heads, <span class="math inline">\(E=\{HT, HH\}\)</span>. Similarly <span class="math inline">\(F= {HH, TH}\)</span> The set of all events that are not E then is <span class="math inline">\(\tilde{E} = {TH, TT}\)</span>.</p>
<p>These sets, along with some others are captured in the venn diagram below:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/venn.png" class="img-fluid figure-img"></p>
<figcaption>2 coin toss venn diagram</figcaption>
</figure>
</div>
<section id="the-multiplyandintersection-formula-for-independent-events" class="level3">
<h3 class="anchored" data-anchor-id="the-multiplyandintersection-formula-for-independent-events">The Multiply/And/Intersection Formula for independent events</h3>
<p>If E and F are independent events, the probability of both events happening together <span class="math inline">\(P(EF)\)</span> or <span class="math inline">\(P(E \cap F)\)</span> (read as E and F or E intersection F, respectively) is the multiplication of the individual probabilities.</p>
<p><span class="math display">\[ P(EF) = P(E) P(F) .\]</span></p>
<p>If you made the two independent coin tosses in our example, and you had a fair coin, the probability of both coming up heads is <span class="math inline">\((1/2)*(1/2) = 1/4\)</span>. This makes intuitive sense: half the time the first coin comes up heads, and then 1/2 the time the second coin comes up heads, so its 1/4 of the times that both come up heads.</p>
</section>
<section id="the-plusorunion-formula" class="level3">
<h3 class="anchored" data-anchor-id="the-plusorunion-formula">The Plus/Or/Union Formula</h3>
<p>We can now ask the question, what is <span class="math inline">\(P(E+F)\)</span>, the odds of E alone, F alone, or both together. Translated into English, we are asking, whats the probability that only the first toss was heads, or only the second toss was heads, or that both came up heads? Or in other words, what are the odds of at least one heads? The answer to this question is given by the rule:</p>
<p><span class="math display">\[P(E+F) = P(E) + P(F) - P(EF),\]</span></p>
<p>the “plus” formula, where E+F, read as E or F (also <span class="math inline">\(E \cup F\)</span>, reads as E union F) means “E alone, F alone, <strong>or</strong> both together”. This rule is a hard one to understand and has a lot of notation, so lets examine it in some detail.</p>
<p>There are four ways that these two tosses can arrange themselves, as illustrated by this diagram, adapted from the <a href="http://www.feynmanlectures.caltech.edu/I_06.html">probability chapter</a> in Feynman’s lectures on Physics..you should read it!.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/2flips.png" class="img-fluid figure-img"></p>
<figcaption>2 coin flips</figcaption>
</figure>
</div>
<p>We can have a HH, HT, TH, or TT. In three out of 4 of these cases, either the first toss was heads, or the second was heads. Thus <span class="math inline">\(P(E+F)=3/4\)</span>.</p>
<p>The formula says, add the odds that “the first toss was a heads, without worrying about the second one (1/2), to the probability that the second toss was a heads, without worrying about the first one” (1/2). Since this double counts the situation where both are heads; subtract that (1/4):</p>
<p><span class="math display">\[\begin{eqnarray}
P(E+F) \, &amp; = &amp;\, P(E) + P(F) - P(EF)\\
\frac{3}{4} \, &amp; = &amp;\, \frac{1}{2} + \frac{1}{2} - \frac{1}{4}
\end{eqnarray}\]</span></p>
<p>Armed with these two formulas, we can tackle the world of conditional and marginal probabilities, and Bayes theorem!</p>
</section>
<section id="formally-summarizing-the-rules" class="level3">
<h3 class="anchored" data-anchor-id="formally-summarizing-the-rules">Formally summarizing the rules</h3>
<p>If <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are two events and <span class="math inline">\(p(X)\)</span> is the probability of the event <span class="math inline">\(X\)</span> to happen. $X^- $ is the complement of <span class="math inline">\(X\)</span>, the event which is all the occurrences which are not in <span class="math inline">\(X\)</span>. <span class="math inline">\(X+Y\)</span> is the union of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>; <span class="math inline">\(X,Y\)</span> is the intersection of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. (Both <span class="math inline">\(X+Y\)</span> and <span class="math inline">\(X,Y\)</span> are also events.)</p>
</section>
<section id="the-very-fundamental-rules-of-probability" class="level3">
<h3 class="anchored" data-anchor-id="the-very-fundamental-rules-of-probability">The very fundamental rules of probability:</h3>
<ol type="1">
<li><p><span class="math inline">\(p(X) &gt;=0\)</span>; probability must be non-negative</p></li>
<li><p><span class="math inline">\(0 ≤ p(X) ≤ 1 \;\)</span> <span class="math inline">\(X\)</span> has probability range from 0 to 1.</p></li>
<li><p><span class="math inline">\(p(X)+p(X^-)=1 \;\)</span> <span class="math inline">\(X\)</span> must either happen or not happen. These last two aximoms can be thought of as saying that the probabilities if all events put tohether must sum to 1.</p></li>
<li><p><span class="math inline">\(p(X+Y)=p(X)+p(Y)−p(X,Y) \;\)</span> <span class="math inline">\(X\)</span> can happen and <span class="math inline">\(Y\)</span> can happen but we must subtract the cases that are happening together so we do not over-count.</p></li>
</ol>
</section>
</section>
<section id="random-variables" class="level2">
<h2 class="anchored" data-anchor-id="random-variables">Random Variables</h2>
<p>To link the notion of events such as <span class="math inline">\(E\)</span> and collections of events, or <em>probability spaces</em> <span class="math inline">\(\Omega\)</span> to data, we must introduce the concept of random variables. The following definition is taken from Larry Wasserman’s All of Stats.</p>
<p><strong>Definition</strong>. A random variable is a mapping</p>
<p><span class="math display">\[ X: \Omega \rightarrow \mathbb{R}\]</span></p>
<p>that assigns a real number <span class="math inline">\(X(\omega)\)</span> to each outcome <span class="math inline">\(\omega\)</span>. <span class="math inline">\(\Omega\)</span> is the sample space. Points <span class="math inline">\(\omega\)</span> in <span class="math inline">\(\Omega\)</span> are called sample outcomes, realizations, or elements. Subsets of <span class="math inline">\(\Omega\)</span> are called Events. Say <span class="math inline">\(\omega = HHTTTTHTT\)</span> then <span class="math inline">\(X(\omega) = 3\)</span> if defined as number of heads in the sequence <span class="math inline">\(\omega\)</span>.</p>
<p>We will assign a real number P(A) to every event A, called the probability of A. We also call P a probability distribution or a probability measure. To qualify as a probability, P must satisfy the three axioms (non-negative, <span class="math inline">\(P(\Omega)=1\)</span>, disjoint probs add).</p>
</section>
<section id="marginals-and-conditionals-and-bayes-theorem" class="level2">
<h2 class="anchored" data-anchor-id="marginals-and-conditionals-and-bayes-theorem">Marginals and conditionals, and Bayes Theorem</h2>
<p>The diagram below taken from Bishop may be used to illustrate the concepts of conditionals and marginals. Consider two random variables, <span class="math inline">\(X\)</span>, which takes the values <span class="math inline">\({x_i}\)</span> where <span class="math inline">\(i = 1,...,M\)</span>, and <span class="math inline">\(Y\)</span>, which takes the values <span class="math inline">\({y_j}\)</span> where <span class="math inline">\(j = 1,...,L\)</span>. The number of instances for which <span class="math inline">\(X = x_i\)</span> and <span class="math inline">\(Y = y_j\)</span> is <span class="math inline">\(n_{ij}\)</span>. The number of points in column i where <span class="math inline">\(X=x_i\)</span> is <span class="math inline">\(c_i\)</span>, and for the row where <span class="math inline">\(Y = y_j\)</span> is <span class="math inline">\(r_j\)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/bishop-prob.png" class="img-fluid figure-img"></p>
<figcaption>m:bishopprob</figcaption>
</figure>
</div>
<p>Then the <strong>joint probability</strong> of having <span class="math inline">\(p(X = x_i, Y= y_j)\)</span> is in the asymptotic limit of large numbers in the frequency sense of probability <span class="math inline">\(n_{ij}/N\)</span> where is the total number of instances. The <span class="math inline">\(X\)</span> <strong>marginal</strong>, <span class="math inline">\(p(X=x_i)\)</span> can be obtained by summing instances in all the cells in the i’th column:</p>
<p><span class="math display">\[p(X=x_i) = \sum_j p(X=x_i, Y=y_j)\]</span></p>
<p>Lets consider next only those instances for which <span class="math inline">\(X=x_i\)</span>. This means that we are limiting our analysis to the ith row. Then, we write the <strong>conditional probability</strong> of <span class="math inline">\(Y = y_j\)</span> given <span class="math inline">\(X = x_i\)</span> as <span class="math inline">\(p(Y = y_j \mid X = x_i)\)</span>. This is the asymptotic fraction of these instances where <span class="math inline">\(Y = y_j\)</span> and is obtained by dividing the instances in the cell by those in the comumn as</p>
<p><span class="math display">\[p(Y = y_j \mid X = x_i) = \frac{n_{ij}}{c_i}.\]</span></p>
<p>A little algebraic rearrangement gives:</p>
<p><span class="math display">\[p(Y = y_j \mid X = x_i) = \frac{n_{ij}}{c_i} = \frac{n_{ij}}{N} / \frac{c_i}{N},\]</span></p>
<p>or:</p>
<p><span class="math display">\[p(Y = y_j \mid X = x_i) \times p(X=x_i) =  p(X=x_i, Y=y_j).\]</span></p>
<p>This is the product rule of probability with conditionals involved.</p>
<p>Let us simplify the notation by dropping the <span class="math inline">\(X=\)</span> and <span class="math inline">\(Y=\)</span>.</p>
<p>Then we can write the marginal probability of x as a sum over the joint distribution of x and y where we sum over all possibilities of y,</p>
<p><span class="math display">\[p(x) = \sum_y p(x,y) \]</span>.</p>
<p>We can rewrite a joint distribution as a product of a conditional and marginal probability,</p>
<p><span class="math display">\[ p(x,y) = p(y\mid x) p(x) \]</span></p>
<p>The product rule is applied repeatedly to give expressions for the joint probability involving more than two variables. For example, the joint distribution over three variables can be factorized into a product of conditional probabilities:</p>
<p><span class="math display">\[ p(x,y,z) = p(x|y,z) \, p(y,z) = p(x |y,z) \, p(y|z) p(z) \]</span></p>
<section id="bayes-rule" class="level3">
<h3 class="anchored" data-anchor-id="bayes-rule">Bayes rule</h3>
<p>Observe that</p>
<p><span class="math display">\[ p(x,y) = p(y\mid x) p(x) = P(x\mid y)p(y).\]</span></p>
<p>Given the product rule one can derive the Bayes rule, which plays a central role in a lot of the things we will be talking:</p>
<p><span class="math display">\[ p(y\mid x) = \frac{p(x\mid y) \, p(y) }{p(x)} = \frac{p(x\mid y) \, p(y) }{\sum_{y'} p(x,y')} = \frac{p(x\mid y) \, p(y) }{\sum_{y'} p(x\mid y')p(y')}\]</span></p>
</section>
<section id="independence" class="level3">
<h3 class="anchored" data-anchor-id="independence">Independence</h3>
<p>Two variables are said to be independent if their joint distribution factorizes into a product of two marginal probabilities:</p>
<p><span class="math display">\[ p(x,y) = p(x) \, p(y) \]</span></p>
<p>Another consequence of independence is that if <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> are independent, the conditional probability of <span class="math inline">\(x\)</span> given <span class="math inline">\(y\)</span> is just the probability of <span class="math inline">\(x\)</span>:</p>
<p><span class="math display">\[ p(x|y) = p(x) \]</span></p>
<p>In other words, by conditioning on a particular <span class="math inline">\(y\)</span>, we have learned nothing about <span class="math inline">\(x\)</span> because of independence. Two variables <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> and said to be conditionally independent of <span class="math inline">\(z\)</span> if the following holds:</p>
<p><span class="math display">\[ p(x,y|z) = p(x|z) p(y|z) \]</span></p>
<p>Therefore, if we learn about z, x and y become independent. Another way to write that <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> are conditionally independent of <span class="math inline">\(z\)</span> is</p>
<p><span class="math display">\[ p(x| z, y) = p(x|z) \]</span></p>
<p>In other words, if we condition on <span class="math inline">\(z\)</span>, and now also learn about <span class="math inline">\(y\)</span>, this is not going to change the probability of <span class="math inline">\(x\)</span>. It is important to realize that conditional independence between <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> does not imply independence between <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>.</p>
</section>
<section id="application-of-bayes-theorem" class="level3">
<h3 class="anchored" data-anchor-id="application-of-bayes-theorem">Application of Bayes Theorem</h3>
<blockquote class="blockquote">
<p>Sally Clark, a lawyer who lost her first son at 11 weeks and her second at 8 weeks, was convicted in 1999. A prominent pediatrician, Sir Roy Meadow, had testified for the prosecution about Sudden Infant Death Syndrome, known as SIDS in the U.S. and cot death in Britain. Citing a government study, Meadow said the incidence of one SIDS death was one in 8,500 in a family like Clark’s–stable, affluent, nonsmoking, with a mother more than 26 years old.</p>
</blockquote>
<blockquote class="blockquote">
<p>Then, despite the fact that some families are predisposed to SIDS, Meadow assumed erroneously that each sibling’s death occurred independently of the other. Multiplying 8,500 by 8,500, he calculated that the chance of two children dying in a family like Sally Clark’s was so rare–one in 73 million–that they must have been murdered.</p>
</blockquote>
<p>(from http://www.mcgrayne.com/disc.htm)</p>
<pre><code>p(child 1 dying of sids) = 1/8500

P(child 2 dying of sids) = 1/100</code></pre>
<blockquote class="blockquote">
<p>First, we look at natural causes of sudden infant death. The chance of one random infant dying from SIDS was about 1 in 1,300 during this period in Britain. Meadow’s argument was flawed and produced a much slimmer chance of natural death. The estimated odds of a second SIDS death in the same family was much larger, perhaps one in 100, because family members can share a common environmental or genetic propensity for SIDS.</p>
</blockquote>
<blockquote class="blockquote">
<p>Second, we turn to the hypothesis that the babies were murdered. Only about 30 children out of 650,000 annual births in England, Scotland, and Wales were known to have been murdered by their mothers. The number of double murders must be much lower, estimated as 10 times less likely.</p>
</blockquote>
<pre><code>p(S2 = both children dying of sids) =  0.000007
p(notS2 = not both dying of sids) =  0.999993

Data: both children died unexpectedly</code></pre>
<p>So now ask, whats:</p>
<pre><code>p(data | S2) = 1
p(data | notS2) = ? both died but not SIDS. Murder? =  30/650000    × 1/10 = 0.000005</code></pre>
<p>We want to calculate the “posterior probability”:</p>
<pre><code>p(S2 | data) = P(data | S2) P(S2) /(P(data | S2) P(S2) + P(data|notS2)P(notS2))
= 1*0.000007/(1*0.000007 + 0.000005*0.999993)
=0.58</code></pre>
<p>58% chance of having died from SIDS!</p>
<p>Sally Clark spent <strong>3 years</strong> in jail.</p>


</section>
</section>

</main> <!-- /main -->
<!-- Inject yin-yang brand icon into navbar -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Find the navbar brand
  const navbarBrand = document.querySelector('.navbar-brand');
  if (navbarBrand) {
    // Create the brand mark element
    const brandMark = document.createElement('span');
    brandMark.className = 'brand-mark';
    brandMark.innerHTML = '<i class="bi bi-yin-yang"></i>';

    // Insert at the beginning of navbar brand
    navbarBrand.insertBefore(brandMark, navbarBrand.firstChild);
  }
});
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>